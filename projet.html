<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="/node_modules/@picocss/pico/css/pico.min.css">
    <title>NFTS ECV</title>

    <link href="style.css" rel="stylesheet">
</head>
<style>
    .hidden {
        display: none;
    }
</style>

<body class="home">
    <a href="favoris.html">Mes favoris</a>
</body>
<script src="main.js"></script>
<script type="text/javascript">
    // Trie par créateurs
    const myListOfcreator = createElement('select');
    myListOfcreator.setAttribute('style', `width: 30%;`);

    const items = document.getElementsByTagName('article');

    myListOfcreator.addEventListener('change', e => {
        input = e.target.value;
        var pat = new RegExp(input, 'i');
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            if (pat.test(item.innerText)) {
                item.classList.remove("hidden");
            } else {
                console.log(item);
                item.classList.add("hidden");
            }
        }
    });

    //trie par vente
    const myListOfSales = createElement('select');
    myListOfSales.setAttribute('style', `width: 30%;`);
    myListOfSales.addEventListener('change', e => {
        input = e.target.value;
        var pat = new RegExp(input, 'i');
        for (var i = 0; i < items.length; i++) {
            var item = items[i];
            if (pat.test(item.innerText)) {
                item.classList.remove("hidden");
            } else {
                console.log(item);
                item.classList.add("hidden");
            }
        }
    });


    //recherche
    const myInput = createElement('input');
    myInput.setAttribute('id', 'search');
    myInput.setAttribute('style', `width: 40%;`);

    myInput.addEventListener('keyup', e => {
        const searchString = e.target.value;
        const filteredNfts = myNfts.filter((character) => {
            return (
                character.sales.toLowerCase().includes(searchString)
            );
        });
        console.log(filteredNfts);
    });


    // création de la div parente
    const myDiv = createElement('div', {
        display: 'flex',
        flexFlow: 'wrap',
        placeContent: 'space-evenly'
    });

    // titre de la page
    const titre = createElement('h1', {
        width: '100%',
        margin: '50px auto 0px',
        textAlign: 'center',
        text: 'Bienvenue sur le site de NFT'
    }, myDiv)


    nfts();
</script>

</html>
